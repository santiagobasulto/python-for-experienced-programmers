



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.5.1">
    
    
      
        <title>4. Control Flow - Python for experienced programmers</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.1b62728e.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#546e7a">
      
    
    
      <script src="../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../static/css/extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue-grey" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#control-flow" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Python for experienced programmers" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Python for experienced programmers
            </span>
            <span class="md-header-nav__topic">
              
                4. Control Flow
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Python for experienced programmers" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Python for experienced programmers
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="1. Introduction" class="md-nav__link">
      1. Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../meta/" title="2. Meta" class="md-nav__link">
      2. Meta
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../basics/" title="3. Language Basics" class="md-nav__link">
      3. Language Basics
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        4. Control Flow
      </label>
    
    <a href="./" title="4. Control Flow" class="md-nav__link md-nav__link--active">
      4. Control Flow
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#indentation" class="md-nav__link">
    Indentation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#if-statements" class="md-nav__link">
    If statements
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ternary-operator" class="md-nav__link">
    Ternary operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#truthy-falsy" class="md-nav__link">
    Truthy, Falsy
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#for-loops" class="md-nav__link">
    For loops
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variable-scope" class="md-nav__link">
    Variable Scope
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-comprehensions" class="md-nav__link">
    List Comprehensions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#break-and-continue" class="md-nav__link">
    break and continue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    Summary
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../data-types/" title="5. Data Types" class="md-nav__link">
      5. Data Types
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../magic_methods/" title="6. Magic Methods" class="md-nav__link">
      6. Magic Methods
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#indentation" class="md-nav__link">
    Indentation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#if-statements" class="md-nav__link">
    If statements
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ternary-operator" class="md-nav__link">
    Ternary operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#truthy-falsy" class="md-nav__link">
    Truthy, Falsy
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#for-loops" class="md-nav__link">
    For loops
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variable-scope" class="md-nav__link">
    Variable Scope
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-comprehensions" class="md-nav__link">
    List Comprehensions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#break-and-continue" class="md-nav__link">
    break and continue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    Summary
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="control-flow">Control flow<a class="headerlink" href="#control-flow" title="Permanent link">&para;</a></h1>
<p>Python won't give you any unpleasant surprises when it comes to Control Flow. On the contrary, you might find a few interesting features that are not part of other traditional dynamic languages.</p>
<p>Personally, the feature that I miss the most in Python is the lack of "expression oriented control flow", as you can find in Scala or F#.</p>
<h2 id="indentation">Indentation<a class="headerlink" href="#indentation" title="Permanent link">&para;</a></h2>
<p>Indentation, as seen before, is what defines the current "active block". Although, as we'll see later in this same chapter, Python control flow structures don't define new "execution frames" or namespaces, differently from other languages as Java or C, for example.</p>
<div class="codehilite"><pre><span></span><span class="c1"># Not valid Python code, just a demonstration of indentation</span>
<span class="k">if</span> <span class="p">[</span><span class="n">condition</span><span class="p">]:</span>
    <span class="k">for</span> <span class="p">[</span><span class="n">elem</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">]:</span>
        <span class="k">if</span> <span class="p">[</span><span class="n">another</span> <span class="n">condition</span><span class="p">]:</span>
            <span class="c1"># inside another condition</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># inside ELSE of another condition</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># Inside else of main if</span>
</pre></div>


<h2 id="if-statements">If statements<a class="headerlink" href="#if-statements" title="Permanent link">&para;</a></h2>
<p>An example:</p>
<div class="codehilite"><pre><span></span><span class="n">age</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Enter your age: &#39;</span><span class="p">))</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">21</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;You can drive and drink&quot;</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">18</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;You can only drive&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sorry. You&#39;ll have to wait for all the fun stuff&quot;</span><span class="p">)</span>
</pre></div>


<p>You can see the use of the <code>elif</code> clause, which is just <em>else if</em>. Python <strong>does NOT have a switch statement</strong>, so the <code>elif</code> clause replaces part of that behavior.</p>
<h3 id="ternary-operator">Ternary operator<a class="headerlink" href="#ternary-operator" title="Permanent link">&para;</a></h3>
<p>The ternary operator is not so commonly used, as it might hurt readability, but it's still useful to know it:</p>
<div class="codehilite"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter a number: &quot;</span><span class="p">))</span>
<span class="n">even_or_odd</span> <span class="o">=</span> <span class="s2">&quot;even&quot;</span> <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;odd&quot;</span>
</pre></div>


<p>A more <em>"Pythonic"</em> approach would use an explicit if statement:</p>
<div class="codehilite"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter a number: &quot;</span><span class="p">))</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">even_or_odd</span> <span class="o">=</span> <span class="s2">&quot;even&quot;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">even_or_odd</span> <span class="o">=</span> <span class="s2">&quot;odd&quot;</span>
</pre></div>


<p>The ternary operator can be chained for even less readable operations, so please try to avoid it:</p>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">teenager_test</span><span class="p">(</span><span class="n">age</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="s2">&quot;drive and drink&quot;</span> <span class="k">if</span> <span class="n">age</span> <span class="o">&gt;=</span> <span class="mi">21</span> <span class="k">else</span> <span class="s2">&quot;only drive&quot;</span>
                          <span class="k">if</span> <span class="n">age</span> <span class="o">&gt;=</span> <span class="mi">18</span> <span class="k">else</span> <span class="s2">&quot;Nothing fun&quot;</span>
    <span class="p">)</span>
</pre></div>


<h3 id="truthy-falsy">Truthy, Falsy<a class="headerlink" href="#truthy-falsy" title="Permanent link">&para;</a></h3>
<p>Python's decision to go through an <code>if</code> or <code>else</code> branch is based on the value of the <em>expression</em> passed. In the boolean operators section we'll discuss in further detail the concepts of truthy/falsy values. For now, what you need to know is that we prefer pythonic expressions that are oriented to truthy/falsy statements, instead of booleans. For example, the following statement is NOT considered Pythonic, as it tries to "force" a boolean:</p>
<div class="codehilite"><pre><span></span><span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">email_verified</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
    <span class="c1"># body</span>
</pre></div>


<p>In this case, <code>user.email_verified</code> must return a boolean value. It can't return anything else (the datetime of the verification, for example). A more Pythonic approach is just:</p>
<div class="codehilite"><pre><span></span><span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">email_verified</span><span class="p">:</span>
    <span class="c1"># body</span>
</pre></div>


<p>The same for collections. A non pythonic approach is:</p>
<div class="codehilite"><pre><span></span><span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">a_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</pre></div>


<p>Empty collections are falsy. So we can just rewrite it in this way:</p>
<div class="codehilite"><pre><span></span><span class="k">if</span> <span class="n">a_list</span><span class="p">:</span>
</pre></div>


<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Remember the issue with the <code>is</code> operator. Try to avoid it as much as possible, and only use it whenever you want to explicitly check the <em>same</em> object.</p>
</div>
<h2 id="for-loops">For loops<a class="headerlink" href="#for-loops" title="Permanent link">&para;</a></h2>
<p>For loops in Python are <strong>NOT</strong> like for loops in other languages. They're what, in other languages, are called "for each" loops. They let you step over elements from an iterator. Example:</p>
<div class="codehilite"><pre><span></span><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Apple&#39;</span><span class="p">,</span> <span class="s1">&#39;Orange&#39;</span><span class="p">,</span> <span class="s1">&#39;Banana&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">fruit</span> <span class="ow">in</span> <span class="n">fruits</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">fruit</span><span class="p">)</span>
</pre></div>


<p>A traditional for loop in another language looks something like: <code>for(initialization; condition; step)</code>, as the following example:</p>
<div class="codehilite"><pre><span></span><span class="c1">// Javascript</span>
<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>


<p>There's not such thing in Python. To recreate the previous example, we need an iterator containing the elements first:</p>
<div class="codehilite"><pre><span></span><span class="n">elements</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
</pre></div>


<p>This is obviously not practical, and that's why it's so simple (and crucial to Python) to use iterators and generators. For this particular example, we can use the <code>range</code> function:</p>
<div class="codehilite"><pre><span></span><span class="c1"># prints 0 to 4</span>
<span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
</pre></div>


<p>The <code>range</code> function accepts 3 parameters, <code>(init, end, step)</code>:</p>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</pre></div>


<h3 id="variable-scope">Variable Scope<a class="headerlink" href="#variable-scope" title="Permanent link">&para;</a></h3>
<p>The first thing you'll notice is that control flow structures don't create namespaces or blocks:</p>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="k">pass</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">i</span>
<span class="mi">4</span>
</pre></div>


<p>The <code>i</code> variable is bound and keeps the value of the last iteration.</p>
<p>The same happens for variables defined "inside" the block:</p>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="n">a</span> <span class="o">=</span> <span class="mi">9</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span>
<span class="mi">9</span>
</pre></div>


<p>Again, this indicates that <strong>Python control flow blocks, don't create new execution frames or namespaces</strong>. If you come from a language that actually creates new execution frames, be careful not to clutter the namespace with variables generated inside the control flow blocks.</p>
<p>This might also result in some unpleasant surprises, like in this example inspired by an <a href="https://mail.python.org/pipermail/python-ideas/2008-October/002109.html">interesting discussion in Python's email list</a>:</p>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">lst</span> <span class="o">=</span> <span class="p">[]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">i</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">f</span><span class="p">()</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</pre></div>


<h3 id="list-comprehensions">List Comprehensions<a class="headerlink" href="#list-comprehensions" title="Permanent link">&para;</a></h3>
<p>The last statement of our previous example is a list comprehension: <code>[f() for f in lst]</code>. There's more about list comprehensions in the <em>Functional programming</em> chapter, but at a glance, this is what you need to know:</p>
<p>A list comprehension works with any iterable, not just lists (should we call it <em>iterator comprehension</em>?). It has the following form <code>[(expression) for (element) in (iterable)]</code>. Optionally, it can be passed a "filtering" expression at the end. The final result then is: <code>[(expression) for (element) in (iterable) if (condition)]</code>. Examples will speak by themselves:</p>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
<span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">]</span>
<span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">]</span>
<span class="p">[(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">16</span><span class="p">)]</span>
</pre></div>


<p>Our previous example involving weird scoping of variables can be rewritten using comprehensions in the following way:</p>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">lst</span> <span class="o">=</span> <span class="p">[</span><span class="k">lambda</span><span class="p">:</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">f</span><span class="p">()</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">]</span>
<span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</pre></div>


<div class="admonition tip">
<p class="admonition-title">Comprehensions are good</p>
<p>Always prefer list comprehensions over for loops when possible. List comprehensions are expressive and declarative, compared to for loops which are imperative.</p>
</div>
<h3 id="break-and-continue"><code>break</code> and <code>continue</code><a class="headerlink" href="#break-and-continue" title="Permanent link">&para;</a></h3>
<p>The <code>break</code> clause will immediately break the current for loop:</p>
<div class="codehilite"><pre><span></span><span class="n">user_to_find</span> <span class="o">=</span> <span class="s1">&#39;mary@example.com&#39;</span>
<span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">users</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">user</span> <span class="o">==</span> <span class="n">users_to_find</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;User found!&quot;</span><span class="p">)</span>
        <span class="k">break</span>
</pre></div>


<ul>
<li>Enumerate</li>
<li>Unpacking</li>
</ul>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>No switch/case.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../basics/" title="3. Language Basics" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                3. Language Basics
              </span>
            </div>
          </a>
        
        
          <a href="../data-types/" title="5. Data Types" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                5. Data Types
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.8e03edeb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>